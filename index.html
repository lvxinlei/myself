<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼ä¸šçº§æ•°æ®å¤§å±å±•ç¤ºç³»ç»Ÿ - åŒ»ç–—é¢„çº¦ç‰ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .dashboard-container {
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            font-size: 1.1rem;
            color: #666;
        }
        
        .time-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            color: #666;
            z-index: 1000;
        }
        
        .metrics-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metrics-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 20px;
            color: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .metrics-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .metrics-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(30px, -30px);
        }
        
        .metrics-card.success { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .metrics-card.warning { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .metrics-card.danger { background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%); }
        .metrics-card.info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        
        .card-content {
            position: relative;
            z-index: 1;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .card-icon {
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
        }
        
        .card-info h3 {
            font-size: 13px;
            margin-bottom: 6px;
            opacity: 0.9;
        }
        
        .card-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 6px;
        }
        
        .card-unit {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .growth-rate {
            display: flex;
            align-items: center;
            font-size: 11px;
            font-weight: 500;
        }
        
        .growth-rate.positive {
            color: #4ade80;
        }
        
        .growth-rate.negative {
            color: #f87171;
        }
        
        .growth-rate.neutral {
            color: #9ca3af;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .chart-container:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }
        
        /* ä¸åŒå¤§å°çš„å›¾è¡¨å®¹å™¨ */
        .chart-span-6 { grid-column: span 6; }
        .chart-span-4 { grid-column: span 4; }
        .chart-span-8 { grid-column: span 8; }
        .chart-span-12 { grid-column: span 12; }
        
        .chart-header {
            padding: 20px 20px 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chart-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
        }
        
        .chart-title::before {
            content: '';
            width: 4px;
            height: 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 2px;
            margin-right: 8px;
        }
        
        .chart-subtitle {
            font-size: 12px;
            color: #666;
            margin-left: 8px;
        }
        
        .chart-controls {
            display: flex;
            gap: 10px;
        }
        
        .chart-controls select {
            padding: 6px 12px;
            border: 1px solid #e6e6e6;
            border-radius: 6px;
            background: white;
            font-size: 13px;
            color: #666;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .chart-controls select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }
        
        .chart-content {
            padding: 20px;
            height: 320px;
        }
        
        .chart-full-height .chart-content {
            height: 400px;
        }
        
        /* å®æ—¶æ•°æ®åŒºåŸŸ */
        .realtime-section {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            grid-column: span 12;
        }
        
        .realtime-header {
            padding: 20px 24px;
            border-bottom: 1px solid #f0f0f0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .realtime-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }
        
        .realtime-stats {
            display: flex;
            gap: 20px;
            font-size: 14px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .stat-value {
            font-weight: bold;
            font-size: 16px;
        }
        
        .stat-label {
            opacity: 0.9;
        }
        
        .realtime-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            height: 400px;
        }
        
        .order-list {
            border-right: 1px solid #f0f0f0;
            overflow-y: auto;
            max-height: 400px;
        }
        
        .order-item {
            padding: 12px 20px;
            border-bottom: 1px solid #f5f5f5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        
        .order-item:hover {
            background-color: #f8f9fa;
        }
        
        .order-item.new {
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.05) 0%, transparent 100%);
            animation: highlight 2s ease-out;
        }
        
        @keyframes highlight {
            0% { background: rgba(102, 126, 234, 0.2); }
            100% { background: transparent; }
        }
        
        .order-info {
            flex: 1;
        }
        
        .order-id {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }
        
        .order-details {
            font-size: 12px;
            color: #666;
        }
        
        .order-meta {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .order-amount {
            font-weight: 600;
            color: #667eea;
            font-size: 15px;
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 500;
            text-align: center;
            min-width: 50px;
        }
        
        .status-success {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-processing {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .status-cancelled {
            background: #fee2e2;
            color: #dc2626;
        }
        
        .activity-stats {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .activity-stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .activity-stat-label {
            font-weight: 500;
            color: #333;
        }
        
        .activity-stat-value {
            font-weight: bold;
            color: #667eea;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .charts-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .chart-span-6 { grid-column: span 8; }
            .chart-span-4 { grid-column: span 8; }
            .chart-span-8 { grid-column: span 8; }
        }
        
        @media (max-width: 768px) {
            .metrics-section {
                grid-template-columns: 1fr;
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-span-6, .chart-span-4, .chart-span-8, .chart-span-12 {
                grid-column: span 1;
            }
            
            .realtime-content {
                grid-template-columns: 1fr;
            }
            
            .order-list {
                border-right: none;
                border-bottom: 1px solid #f0f0f0;
                max-height: 200px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .time-display {
                position: static;
                margin-bottom: 20px;
                text-align: center;
            }
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
            opacity: 0;
        }
        
        .animate-fade-in.delay-1 { animation-delay: 0.1s; }
        .animate-fade-in.delay-2 { animation-delay: 0.2s; }
        .animate-fade-in.delay-3 { animation-delay: 0.3s; }
        .animate-fade-in.delay-4 { animation-delay: 0.4s; }
        .animate-fade-in.delay-5 { animation-delay: 0.5s; }
        .animate-fade-in.delay-6 { animation-delay: 0.6s; }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* å·¥å…·æç¤ºæ ·å¼ */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        /* é¡¶éƒ¨æ§åˆ¶æ æ ·å¼ */
        .top-controls {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }

        .business-selector {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 15px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            font-size: 14px;
            color: #333;
        }

        .business-selector label {
            margin-right: 8px;
            font-weight: 500;
            color: #555;
        }

        .business-selector select {
            padding: 5px 10px;
            border: 1px solid #e6e6e6;
            border-radius: 6px;
            background: white;
            font-size: 13px;
            color: #333;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 100px;
        }

        .business-selector select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }

        .business-selector select:hover {
            border-color: #667eea;
        }

        /* è°ƒæ•´æ—¶é—´æ˜¾ç¤ºä½ç½® */
        .top-controls .time-display {
            position: static;
            margin: 0;
        }

        /* è°ƒæ•´é¡µé¢æ ‡é¢˜ä¸Šè¾¹è· */
        .header {
            margin-top: 80px;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- é¡¶éƒ¨æ§åˆ¶æ  -->
        <div class="top-controls">
            <div class="business-selector">
                <label for="businessLine">ä¸šåŠ¡çº¿ï¼š</label>
                <select id="businessLine">
                    <option value="aikang-app" selected>çˆ±åº·APP</option>
                    <option value="tijianbao">ä½“æ£€å®</option>
                    <option value="aikang-member">çˆ±åº·ä¼šå‘˜</option>
                    <option value="dental-member">é½¿ç§‘ä¼šå‘˜</option>
                </select>
            </div>
            <div class="time-display" id="currentTime"></div>
        </div>

        <!-- é¡µé¢æ ‡é¢˜ -->
        <header class="header">
            <h1>ä¼ä¸šçº§æ•°æ®å¤§å±å±•ç¤ºç³»ç»Ÿ</h1>
            <p>å¤šç»´åº¦ä¸šåŠ¡æ•°æ®å®æ—¶ç›‘æ§ä¸åˆ†æå¹³å°</p>
        </header>

        <!-- æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡ -->
        <section class="metrics-section">
            <div class="metrics-card success animate-fade-in delay-1">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ›’</div>
                        <div class="card-info">
                            <h3>ä»Šæ—¥è®¢å•æ€»é‡</h3>
                            <div class="card-value">2,847 <span class="card-unit">å•</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +18.3%
                        </div>
                        <div class="growth-text">è¾ƒæ˜¨æ—¥</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card info animate-fade-in delay-2">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ’°</div>
                        <div class="card-info">
                            <h3>ä»Šæ—¥é”€å”®é¢</h3>
                            <div class="card-value">Â¥289,450 <span class="card-unit">å…ƒ</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +12.7%
                        </div>
                        <div class="growth-text">è¾ƒæ˜¨æ—¥</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card warning animate-fade-in delay-3">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ“¦</div>
                        <div class="card-info">
                            <h3>åœ¨å”®å•†å“æ•°</h3>
                            <div class="card-value">1,256 <span class="card-unit">ä¸ª</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +3.2%
                        </div>
                        <div class="growth-text">è¾ƒä¸Šå‘¨</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card success animate-fade-in delay-4">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ“‹</div>
                        <div class="card-info">
                            <h3>ä»Šæ—¥é¢„çº¦åŠ é¡¹æ€»é‡</h3>
                            <div class="card-value">1,234 <span class="card-unit">é¡¹</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +24.1%
                        </div>
                        <div class="growth-text">è¾ƒæ˜¨æ—¥</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card info animate-fade-in delay-5">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ¯</div>
                        <div class="card-info">
                            <h3>æ´»åŠ¨å‚ä¸äººæ•°</h3>
                            <div class="card-value">5,892 <span class="card-unit">äºº</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +31.7%
                        </div>
                        <div class="growth-text">è¾ƒä¸Šå‘¨</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card warning animate-fade-in delay-6">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">ğŸ“Š</div>
                        <div class="card-info">
                            <h3>å¹³å‡å®¢å•ä»·</h3>
                            <div class="card-value">Â¥215 <span class="card-unit">å…ƒ</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +5.8%
                        </div>
                        <div class="growth-text">è¾ƒä¸Šæœˆ</div>
                    </div>
                </div>
            </div>

            <div class="metrics-card success animate-fade-in delay-2">
                <div class="card-content">
                    <div class="card-header">
                        <div class="card-icon">â­</div>
                        <div class="card-info">
                            <h3>ç”¨æˆ·å¥½è¯„ç‡</h3>
                            <div class="card-value">96.8 <span class="card-unit">%</span></div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="growth-rate positive">
                            <span>â†—</span> +1.3%
                        </div>
                        <div class="growth-text">è¾ƒä¸Šæœˆ</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- å›¾è¡¨å±•ç¤ºåŒºåŸŸ -->
        <section class="charts-grid">
            <!-- å¤šæ¸ é“é”€å”®ç»Ÿè®¡ -->
            <div class="chart-container chart-span-6 animate-fade-in delay-3">
                <div class="chart-header">
                    <h2 class="chart-title">å¤šæ¸ é“é”€å”®ç»Ÿè®¡</h2>
                    <div class="chart-controls">
                        <select id="channelTimeRange">
                            <option value="today">ä»Šæ—¥</option>
                            <option value="week">æœ¬å‘¨</option>
                            <option value="month" selected>æœ¬æœˆ</option>
                        </select>
                    </div>
                </div>
                <div class="chart-content">
                    <div id="channelSalesChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <!-- è¥é”€æ´»åŠ¨ç±»å‹åˆ†æ -->
            <div class="chart-container chart-span-6 animate-fade-in delay-4">
                <div class="chart-header">
                    <h2 class="chart-title">è¥é”€æ´»åŠ¨ç±»å‹åˆ†æ</h2>
                </div>
                <div class="chart-content">
                    <div id="activityTypeChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <!-- å•†å“åˆ†ç±»é”€å”®å æ¯” -->
            <div class="chart-container chart-span-6 animate-fade-in delay-5">
                <div class="chart-header">
                    <h2 class="chart-title">å•†å“åˆ†ç±»é”€å”®å æ¯”</h2>
                </div>
                <div class="chart-content">
                    <div id="productCategoryChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <!-- é¢„çº¦åŠ é¡¹ç»Ÿè®¡ -->
            <div class="chart-container chart-span-6 animate-fade-in delay-6">
                <div class="chart-header">
                    <h2 class="chart-title">é¢„çº¦åŠ é¡¹ç»Ÿè®¡</h2>
                    <span class="chart-subtitle">çƒ­é—¨åŠ é¡¹æœåŠ¡ç»Ÿè®¡</span>
                </div>
                <div class="chart-content">
                    <div id="userRegionChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <!-- æ´»åŠ¨æ•ˆæœè¶‹åŠ¿ -->
            <div class="chart-container chart-span-6 animate-fade-in delay-1">
                <div class="chart-header">
                    <h2 class="chart-title">æ´»åŠ¨æ•ˆæœè¶‹åŠ¿åˆ†æ</h2>
                    <div class="chart-controls">
                        <select id="activityTrendTime">
                            <option value="7d" selected>æœ€è¿‘7å¤©</option>
                            <option value="30d">æœ€è¿‘30å¤©</option>
                            <option value="90d">æœ€è¿‘90å¤©</option>
                        </select>
                    </div>
                </div>
                <div class="chart-content">
                    <div id="activityTrendChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <!-- æ”¯ä»˜æ–¹å¼ç»Ÿè®¡ -->
            <div class="chart-container chart-span-6 animate-fade-in delay-2">
                <div class="chart-header">
                    <h2 class="chart-title">æ”¯ä»˜æ–¹å¼ç»Ÿè®¡</h2>
                </div>
                <div class="chart-content">
                    <div id="paymentMethodChart" style="width: 100%; height: 100%;"></div>
                </div>
            </div>
        </section>

        <!-- å®æ—¶æ•°æ®åŒºåŸŸ -->
        <section class="realtime-section animate-fade-in delay-1">
            <div class="realtime-header">
                <h2 class="realtime-title">å®æ—¶ä¸šåŠ¡ç›‘æ§</h2>
                <div class="realtime-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="onlineUsers">1,247</div>
                        <div class="stat-label">å·²æ”¯ä»˜è®¢å•</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="activeOrders">89</div>
                        <div class="stat-label">é€€æ¬¾è®¢å•</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="pendingPayments">23</div>
                        <div class="stat-label">å¾…æ”¯ä»˜è®¢å•</div>
                    </div>
                </div>
            </div>
            <div class="realtime-content">
                <div class="order-list" id="orderList">
                    <!-- è®¢å•åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="activity-stats">
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">è¿›è¡Œä¸­æ´»åŠ¨</span>
                        <span class="activity-stat-value" id="activeActivities">12</span>
                    </div>
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">ä»Šæ—¥ä¼˜æƒ åˆ¸å‘æ”¾</span>
                        <span class="activity-stat-value" id="couponsIssued">3,421</span>
                    </div>
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">ä¼˜æƒ åˆ¸ä½¿ç”¨ç‡</span>
                        <span class="activity-stat-value" id="couponUsageRate">68.5%</span>
                    </div>
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">æ»¡å‡æ´»åŠ¨å‚ä¸</span>
                        <span class="activity-stat-value" id="fullReductionUsers">1,892</span>
                    </div>
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">ç§¯åˆ†å…‘æ¢äººæ•°</span>
                        <span class="activity-stat-value" id="pointsExchange">756</span>
                    </div>
                    <div class="activity-stat-item">
                        <span class="activity-stat-label">é™æ—¶æŠ¢è´­å‚ä¸</span>
                        <span class="activity-stat-value" id="flashSaleUsers">2,134</span>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <p>&copy; 2024 ä¼ä¸šçº§æ•°æ®å¤§å±å±•ç¤ºç³»ç»Ÿ - å®æ—¶ç›‘æ§æ‚¨çš„ä¸šåŠ¡æ•°æ® | å¤šæ¸ é“ç»Ÿè®¡ | è¥é”€æ´»åŠ¨åˆ†æ | ç”¨æˆ·è¡Œä¸ºæ´å¯Ÿ</p>
        </footer>
    </div>

    <script>
        // æ›´æ–°å½“å‰æ—¶é—´
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                weekday: 'long'
            });
            document.getElementById('currentTime').textContent = timeString;
        }

        // åˆå§‹åŒ–EChartså›¾è¡¨
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
            
            initCharts();
            initRealtimeOrders();
            startAutoRefresh();
        });

        function initCharts() {
            // å¤šæ¸ é“é”€å”®ç»Ÿè®¡
            const channelSalesChart = echarts.init(document.getElementById('channelSalesChart'));
            const channelSalesOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'shadow' }
                },
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                xAxis: {
                    type: 'category',
                    data: ['APP', 'å¾®ä¿¡å°ç¨‹åº', 'æ”¯ä»˜å®å°ç¨‹åº', 'é¸¿è’™APP', 'é¸¿è’™å…ƒæœåŠ¡', 'å…¶ä»–']
                },
                yAxis: { type: 'value' },
                series: [{
                    name: 'çº¿ä¸Š',
                    type: 'bar',
                    data: [45230, 38150, 28940, 0, 0, 0],
                    itemStyle: { color: '#667eea' }
                }, {
                    name: 'çº¿ä¸‹',
                    type: 'bar',
                    data: [0, 0, 0, 15680, 12340, 9870],
                    itemStyle: { color: '#764ba2' }
                }]
            };
            channelSalesChart.setOption(channelSalesOption);

            // è¥é”€æ´»åŠ¨ç±»å‹åˆ†æ
            const activityTypeChart = echarts.init(document.getElementById('activityTypeChart'));
            const activityTypeOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left'
                },
                series: [{
                    name: 'æ´»åŠ¨ç±»å‹',
                    type: 'pie',
                    radius: '50%',
                    center: ['60%', '50%'],
                    data: [
                        { value: 2890, name: 'é™æ—¶æŠ¢è´­', itemStyle: { color: '#667eea' } },
                        { value: 2150, name: 'æ»¡å‡ä¼˜æƒ ', itemStyle: { color: '#764ba2' } },
                        { value: 1890, name: 'ä¼˜æƒ åˆ¸', itemStyle: { color: '#f093fb' } },
                        { value: 1240, name: 'ç§¯åˆ†å…‘æ¢', itemStyle: { color: '#f5576c' } },
                        { value: 890, name: 'ä¹°èµ ä¼˜æƒ ', itemStyle: { color: '#4facfe' } },
                        { value: 650, name: 'åŠ é¡¹ä¼˜æƒ ', itemStyle: { color: '#00f2fe' } }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        formatter: '{b}: {d}%'
                    }
                }]
            };
            activityTypeChart.setOption(activityTypeOption);

            // å•†å“åˆ†ç±»é”€å”®å æ¯”
            const productCategoryChart = echarts.init(document.getElementById('productCategoryChart'));
            const productCategoryOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c}% ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left'
                },
                series: [{
                    name: 'é”€å”®å æ¯”',
                    type: 'pie',
                    radius: '50%',
                    center: ['55%', '50%'],
                    data: [
                        { value: 35, name: 'é¢„çº¦' },
                        { value: 25, name: 'å®ç‰©' },
                        { value: 18, name: 'ç–«è‹—' },
                        { value: 12, name: 'å¿ƒç†' },
                        { value: 10, name: 'å…¶ä»–' }
                    ],
                    label: {
                        formatter: '{b}: {d}%'
                    }
                }]
            };
            productCategoryChart.setOption(productCategoryOption);

            // é¢„çº¦åœ°åŸŸåˆ†å¸ƒ
            const userRegionChart = echarts.init(document.getElementById('userRegionChart'));
            const userRegionOption = {
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'shadow' }
                },
                grid: { left: '3%', right: '4%', bottom: '15%', containLabel: true },
                xAxis: {
                    type: 'value',
                    axisLabel: { show: false }
                },
                yAxis: {
                    type: 'category',
                    data: ['è‚åŠŸä¸‰é¡¹', 'èƒ¸éƒ¨ct', 'æ ¸ç£', 'å—æ–¹åŸºå› çƒŸé…’18é¡¹', 'ç”˜æ²¹ä¸‰é…¯', 'ç”˜æ¬£å®‰', 'è‚¾åŠŸäºŒé¡¹', 'TM12é˜²ç™Œç­›æŸ¥', 'ç®€å•å¿ƒç†', 'mbtiæ€§æ ¼æµ‹è¯•']
                },
                series: [{
                    type: 'bar',
                    data: [1250, 1180, 980, 890, 760, 650, 580, 520, 480, 420],
                    itemStyle: {
                        color: function(params) {
                            const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe', '#00f2fe', '#43e97b', '#38f9d7', '#fa709a', '#fee140'];
                            return colors[params.dataIndex];
                        }
                    },
                    label: {
                        show: true,
                        position: 'right',
                        formatter: '{c}äºº'
                    }
                }]
            };
            userRegionChart.setOption(userRegionOption);

            // æ´»åŠ¨æ•ˆæœè¶‹åŠ¿
            const activityTrendChart = echarts.init(document.getElementById('activityTrendChart'));
            const activityTrendOption = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ['å‚ä¸äººæ•°', 'è½¬åŒ–è®¢å•', 'é”€å”®é¢'],
                    top: 10
                },
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                xAxis: {
                    type: 'category',
                    data: ['12-01', '12-02', '12-03', '12-04', '12-05', '12-06', '12-07']
                },
                yAxis: [
                    { type: 'value', name: 'äººæ•°/è®¢å•' },
                    { type: 'value', name: 'é”€å”®é¢', position: 'right' }
                ],
                series: [{
                    name: 'å‚ä¸äººæ•°',
                    type: 'line',
                    data: [1200, 1350, 1180, 1420, 1380, 1520, 1680],
                    itemStyle: { color: '#667eea' }
                }, {
                    name: 'è½¬åŒ–è®¢å•',
                    type: 'line',
                    data: [240, 285, 236, 298, 312, 342, 378],
                    itemStyle: { color: '#764ba2' }
                }, {
                    name: 'é”€å”®é¢',
                    type: 'bar',
                    yAxisIndex: 1,
                    data: [48000, 54200, 44800, 56800, 62400, 68400, 75600],
                    itemStyle: { color: '#f093fb' }
                }]
            };
            activityTrendChart.setOption(activityTrendOption);

            // æ”¯ä»˜æ–¹å¼ç»Ÿè®¡
            const paymentMethodChart = echarts.init(document.getElementById('paymentMethodChart'));
            const paymentMethodOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c}% ({d}%)'
                },
                series: [{
                    name: 'æ”¯ä»˜æ–¹å¼',
                    type: 'pie',
                    radius: '60%',
                    center: ['50%', '50%'],
                    data: [
                        { value: 45, name: 'å¾®ä¿¡æ”¯ä»˜' },
                        { value: 30, name: 'æ”¯ä»˜å®' },
                        { value: 15, name: 'é“¶è”' },
                        { value: 8, name: 'äº‘é—ªä»˜' },
                        { value: 2, name: 'å…¶ä»–' }
                    ],
                    label: {
                        formatter: '{b}: {d}%'
                    }
                }]
            };
            paymentMethodChart.setOption(paymentMethodOption);

            // å“åº”å¼è°ƒæ•´
            window.addEventListener('resize', function() {
                channelSalesChart.resize();
                activityTypeChart.resize();
                productCategoryChart.resize();
                userRegionChart.resize();
                activityTrendChart.resize();
                paymentMethodChart.resize();
            });
        }

        function initRealtimeOrders() {
            const orderList = document.getElementById('orderList');
            const mockOrders = [
                { id: 'ORD20241203001', amount: 2999, status: 'success', time: '14:30:25', channel: 'APP', product: 'iPhone 15 Pro' },
                { id: 'ORD20241203002', amount: 1599, status: 'processing', time: '14:28:15', channel: 'å¾®ä¿¡å°ç¨‹åº', product: 'MacBook Air' },
                { id: 'ORD20241203003', amount: 899, status: 'success', time: '14:25:40', channel: 'æ”¯ä»˜å®å°ç¨‹åº', product: 'AirPods Pro' },
                { id: 'ORD20241203004', amount: 4599, status: 'pending', time: '14:22:10', channel: 'APP', product: 'iPad Pro' },
                { id: 'ORD20241203005', amount: 1299, status: 'success', time: '14:20:55', channel: 'å¾®ä¿¡å°ç¨‹åº', product: 'Apple Watch' },
                { id: 'ORD20241203006', amount: 699, status: 'processing', time: '14:18:30', channel: 'APP', product: 'å……ç”µå™¨' },
                { id: 'ORD20241203007', amount: 2399, status: 'success', time: '14:15:20', channel: 'é¸¿è’™', product: 'MacBook Pro' },
                { id: 'ORD20241203008', amount: 3299, status: 'cancelled', time: '14:12:45', channel: 'é¸¿è’™å…ƒæœåŠ¡', product: 'iPhone 14' }
            ];

            orderList.innerHTML = mockOrders.map(order => `
                <div class="order-item">
                    <div class="order-info">
                        <div class="order-id">${order.id}</div>
                        <div class="order-details">
                            <div class="order-meta">
                                <span>${order.product}</span>
                                <span>${order.channel}</span>
                                <span>${order.time}</span>
                            </div>
                        </div>
                    </div>
                    <div class="order-amount">Â¥${order.amount}</div>
                    <div class="status-badge status-${order.status}">
                        ${getStatusText(order.status)}
                    </div>
                </div>
            `).join('');
        }

        function getStatusText(status) {
            const statusMap = {
                'success': 'å·²å®Œæˆ',
                'processing': 'å¤„ç†ä¸­',
                'pending': 'å¾…æ”¯ä»˜',
                'cancelled': 'å·²å–æ¶ˆ'
            };
            return statusMap[status] || status;
        }

        function startAutoRefresh() {
            // æ¨¡æ‹Ÿæ•°æ®å®æ—¶æ›´æ–°
            setInterval(() => {
                updateMetrics();
                updateRealtimeOrders();
                updateActivityStats();
            }, 3000);
        }

        function updateMetrics() {
            const cards = document.querySelectorAll('.metrics-card');
            cards.forEach((card, index) => {
                const valueElement = card.querySelector('.card-value');
                if (valueElement) {
                    const currentValue = parseFloat(valueElement.textContent.replace(/[^\d.]/g, ''));
                    const change = (Math.random() - 0.5) * 0.02; // -1% åˆ° +1% çš„å°å¹…å˜åŒ–
                    const newValue = Math.max(0, currentValue * (1 + change));
                    
                    let displayValue;
                    if (valueElement.textContent.includes('Â¥')) {
                        displayValue = `Â¥${newValue.toFixed(0)}`;
                    } else if (valueElement.textContent.includes('%')) {
                        displayValue = `${newValue.toFixed(1)}%`;
                    } else {
                        displayValue = `${Math.round(newValue)}`;
                    }
                    
                    valueElement.innerHTML = `${displayValue} <span class="card-unit">${getUnit(valueElement)}</span>`;
                }
            });
        }

        function getUnit(element) {
            const unitSpan = element.querySelector('.card-unit');
            return unitSpan ? unitSpan.textContent : '';
        }

        function updateRealtimeOrders() {
            const orderList = document.getElementById('orderList');
            
            // éšæœºç”Ÿæˆæ–°è®¢å•
            const channels = ['å¾®ä¿¡å°ç¨‹åº', 'APP', 'æ”¯ä»˜å®å°ç¨‹åº', 'é¸¿è’™APP', 'é¸¿è’™å…ƒæœåŠ¡', 'å…¶ä»–'];
            const products = ['iPhone 15', 'MacBook Pro', 'iPad Air', 'AirPods', 'Apple Watch', 'å……ç”µå™¨'];
            const statuses = ['success', 'processing', 'pending'];
            
            const newOrder = {
                id: `ORD${Date.now()}`,
                amount: Math.floor(Math.random() * 5000) + 100,
                status: statuses[Math.floor(Math.random() * statuses.length)],
                time: new Date().toLocaleTimeString('zh-CN', { hour12: false }),
                channel: channels[Math.floor(Math.random() * channels.length)],
                product: products[Math.floor(Math.random() * products.length)]
            };

            const orderItem = document.createElement('div');
            orderItem.className = 'order-item new animate-pulse';
            orderItem.innerHTML = `
                <div class="order-info">
                    <div class="order-id">${newOrder.id}</div>
                    <div class="order-details">
                        <div class="order-meta">
                            <span>${newOrder.product}</span>
                            <span>${newOrder.channel}</span>
                            <span>${newOrder.time}</span>
                        </div>
                    </div>
                </div>
                <div class="order-amount">Â¥${newOrder.amount}</div>
                <div class="status-badge status-${newOrder.status}">
                    ${getStatusText(newOrder.status)}
                </div>
            `;

            orderList.insertBefore(orderItem, orderList.firstChild);

            // ä¿æŒæœ€å¤š10ä¸ªè®¢å•
            while (orderList.children.length > 10) {
                orderList.removeChild(orderList.lastChild);
            }
            
            // 3ç§’åç§»é™¤æ–°è®¢å•é«˜äº®æ•ˆæœ
            setTimeout(() => {
                orderItem.classList.remove('new', 'animate-pulse');
            }, 3000);
        }

        function updateActivityStats() {
            // æ›´æ–°æ´»åŠ¨ç»Ÿè®¡æ•°æ®
            const stats = {
                onlineUsers: Math.floor(Math.random() * 500) + 1000,
                activeOrders: Math.floor(Math.random() * 50) + 50,
                pendingPayments: Math.floor(Math.random() * 30) + 10,
                activeActivities: Math.floor(Math.random() * 5) + 8,
                couponsIssued: Math.floor(Math.random() * 200) + 3200,
                couponUsageRate: (Math.random() * 10 + 60).toFixed(1),
                fullReductionUsers: Math.floor(Math.random() * 300) + 1500,
                pointsExchange: Math.floor(Math.random() * 100) + 650,
                flashSaleUsers: Math.floor(Math.random() * 400) + 1800
            };

            Object.keys(stats).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = key.includes('Rate') ? stats[key] + '%' : stats[key].toLocaleString();
                }
            });
        }

        // æ·»åŠ äº¤äº’æ•ˆæœ
        document.querySelectorAll('.metrics-card').forEach(card => {
            card.addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // æ—¶é—´èŒƒå›´é€‰æ‹©å™¨äº‹ä»¶
        document.getElementById('channelTimeRange').addEventListener('change', function() {
            console.log('åˆ‡æ¢æ¸ é“æ—¶é—´èŒƒå›´:', this.value);
            // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ–°åŠ è½½æ•°æ®çš„é€»è¾‘
        });

        document.getElementById('activityType').addEventListener('change', function() {
            console.log('åˆ‡æ¢æ´»åŠ¨ç±»å‹:', this.value);
            // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ–°åŠ è½½æ•°æ®çš„é€»è¾‘
        });

        document.getElementById('activityTrendTime').addEventListener('change', function() {
            console.log('åˆ‡æ¢æ´»åŠ¨è¶‹åŠ¿æ—¶é—´:', this.value);
            // è¿™é‡Œå¯ä»¥æ·»åŠ é‡æ–°åŠ è½½æ•°æ®çš„é€»è¾‘
        });
                // ä¸šåŠ¡çº¿é€‰æ‹©å™¨äº‹ä»¶
                document.getElementById('businessLine').addEventListener('change', function() {
            const businessLine = this.value;
            const businessNames = {
                'aikang-app': 'çˆ±åº·APP',
                'tijianbao': 'ä½“æ£€å®',
                'aikang-member': 'çˆ±åº·ä¼šå‘˜',
                'dental-member': 'é½¿ç§‘ä¼šå‘˜'
            };
            
            console.log('åˆ‡æ¢ä¸šåŠ¡çº¿:', businessNames[businessLine]);
            
            // è¿™é‡Œå¯ä»¥æ ¹æ®é€‰æ‹©çš„ä¸šåŠ¡çº¿é‡æ–°åŠ è½½å¯¹åº”çš„æ•°æ®
            // ä¾‹å¦‚ï¼šåŠ è½½ä¸åŒä¸šåŠ¡çº¿çš„æ•°æ®æŒ‡æ ‡ã€å›¾è¡¨æ•°æ®ç­‰
            updateBusinessLineData(businessLine);
        });

        // æ ¹æ®ä¸šåŠ¡çº¿æ›´æ–°æ•°æ®ï¼ˆç¤ºä¾‹å‡½æ•°ï¼‰
        function updateBusinessLineData(businessLine) {
            // æ ¹æ®ä¸åŒä¸šåŠ¡çº¿æ›´æ–°é¡µé¢æ•°æ®
            const businessData = {
                'aikang-app': {
                    title: 'çˆ±åº·APPæ•°æ®å¤§å±',
                    metrics: {
                        orders: 2847,
                        sales: 289450,
                        products: 1256,
                        orderItems: 1234
                    }
                },
                'tijianbao': {
                    title: 'ä½“æ£€å®æ•°æ®å¤§å±',
                    metrics: {
                        orders: 1956,
                        sales: 198450,
                        products: 856,
                        orderItems: 756
                    }
                },
                'aikang-member': {
                    title: 'çˆ±åº·ä¼šå‘˜æ•°æ®å¤§å±',
                    metrics: {
                        orders: 3241,
                        sales: 245680,
                        products: 1456,
                        orderItems: 1345
                    }
                },
                'dental-member': {
                    title: 'é½¿ç§‘ä¼šå‘˜æ•°æ®å¤§å±',
                    metrics: {
                        orders: 1234,
                        sales: 156780,
                        products: 678,
                        orderItems: 567
                    }
                }
            };

            const data = businessData[businessLine];
            if (data) {
                // æ›´æ–°é¡µé¢æ ‡é¢˜
                document.querySelector('.header h1').textContent = data.title;
                
                // è¿™é‡Œå¯ä»¥æ›´æ–°ç›¸åº”çš„æŒ‡æ ‡æ•°æ®
                // ä¾‹å¦‚ï¼šæ›´æ–°æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡çš„æ•°æ®
                console.log('ä¸šåŠ¡çº¿æ•°æ®å·²æ›´æ–°:', data);
            }
        }
    </script>
</body>
</html>